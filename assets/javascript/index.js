// Generated by CoffeeScript 1.10.0
(function() {
  var editor;

  editor = CodeMirror.fromTextArea(document.getElementById('editor'), {
    lineNumbers: true,
    fixedGutter: true,
    matchBrackets: true,
    indentUnit: 4,
    tabSize: 4,
    indentWithTabs: true,
    mode: 'stex'
  });

  window.midiIo = new MidiIo({
    safeMode: false,
    logging: true
  });

  window.track = new MidiTrack('Test Track', 4, 4, 120, {});

  window.trackProcessor = new MidiTrackProcessor({
    firstNoteTimestampBecomesTrackStartTimestamp: true,
    quantize: false,
    quantizeLimit: 16
  });

  $(midiIo).on('noteOn', function(jqueryEvent, event) {
    if (track.state === track.RecordState.Initialized) {
      track.startRecording();
    }
    console.log(event.toString());
    return track.recordEvent(event);
  });

  $(midiIo).on('noteOff', function(jqueryEvent, event) {
    console.log(event.toString());
    return track.recordEvent(event);
  });

  $(midiIo).on('cc', function(jqueryEvent, event) {
    console.log(event.toString());
    if (track.state === track.RecordState.Recording) {
      track.stopRecording();
      window.processedTrack = window.trackProcessor.processTrack(track);
    }
    return console.log(track);
  });

}).call(this);

//# sourceMappingURL=index.js.map
